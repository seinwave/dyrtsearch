{"version":3,"sources":["styles/CONSTANTS.js","components/TypeAhead/Icon.js","components/TypeAhead/DyrtResult.js","components/TypeAhead/TypeAheadSearch.tsx","utils/debounce.ts","utils/dyrt-search.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BREAKPOINTS","RATINGS","hate","icons","compass","Compass","Wrapper","styled","div","Icon","id","size","strokeWidth","delegated","Component","Error","style","color","DyrtResult","result","setModal","_score","name","region_name","React","useState","showDialog","setShowDialog","close","useEffect","isOpen","onDismiss","className","onClick","Math","round","TypeAheadSearch","fetcher","icon","statusCapture","setStatusCapture","nameString","setNameString","results","setResults","modal","handleChange","e","target","value","length","func","timer","timeout","args","clearTimeout","setTimeout","apply","debounce","handleSearch","encodedQueryString","encodeURIComponent","then","data","json","res","catch","err","status","error","message","onSubmit","SearchInput","onChange","placeholder","ResultsDropDown","ResultsDropDownList","map","datum","SingleResultWrapper","preventDefault","modalSetter","ResultIcon","SingleResult","input","ul","span","li","dyrtSearch","fetch","ErrorFallback","resetErrorBoundary","role","App","FallbackComponent","onReset","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0MAaaA,EAEA,KAFAA,EAGA,KAwCAC,GArCL,eAAD,OALK,IAKmC,GAAxC,QACE,eAAD,OAAiBD,EAAwB,GAAzC,QACC,eAAD,OAAiBA,EAAwB,GAAzC,QAmCe,CACrBE,KAAM,uCACN,EAAG,eACH,EAAG,SACH,EAAG,eACH,EAAG,qBACH,EAAG,2BACH,EAAG,iE,qEC3DCC,EAAQ,CACZC,QAASC,KAuBLC,EAAUC,IAAOC,IAAV,+JAUEC,EA9BF,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,GAAIC,EAA0C,EAA1CA,KAA0C,IAApCC,mBAAoC,MAAtB,EAAsB,EAAhBC,EAAgB,iBACtDC,EAAYX,EAAMO,GAExB,IAAKI,EACH,MAAM,IAAIC,MAAJ,gCAAmCL,IAG3C,OACE,cAACJ,EAAD,yBACEU,MAAO,CACL,SAAUL,EAAO,KACjB,iBAAkBC,EAAc,OAE9BC,GALN,aAOE,cAACC,EAAD,CAAWG,MAAM,eAAeN,KAAMA,Q,sBCjB7B,SAASO,EAAT,GAA2C,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,SACnCC,EAA8BF,EAA9BE,OAAQC,EAAsBH,EAAtBG,KAAMC,EAAgBJ,EAAhBI,YACtB,EAAoCC,IAAMC,UAAS,GAAnD,mBAAOC,EAAP,KAAmBC,EAAnB,KAEMC,EAAQ,WAEZ,OADAD,GAAc,GACPP,EAAS,OASlB,OANAI,IAAMK,WAAU,WACVV,GACFQ,GAAc,KAEf,CAACR,IAGF,8BACE,gCACG,IACD,eAAC,IAAD,CAAQW,OAAQJ,EAAYK,UAAWH,EAAvC,UACG,IACD,yBAAQI,UAAU,eAAeC,QAASL,EAA1C,UACG,IACD,cAAC,IAAD,oBAFF,IAEyC,sBAAM,iBAAN,kBAA2B,OAC1D,IACV,8BAAM3B,EAAQ,GAAD,OAAIiC,KAAKC,MAAMd,OAC5B,8BAAMC,IACN,8BAAMC,OACE,SCpBlB,IAyEea,EApEV,SAAC,GAAwD,IAAtDC,EAAqD,EAArDA,QAASC,EAA4C,EAA5CA,KAAMC,EAAsC,EAAtCA,cAAeC,EAAuB,EAAvBA,iBACpC,EAAoChB,IAAMC,SAAS,IAAnD,mBAAOgB,EAAP,KAAmBC,EAAnB,KACA,EAA8BlB,IAAMC,SAAsB,IAA1D,mBAAOkB,EAAP,KAAgBC,EAAhB,KACA,EAA0BpB,IAAMC,SAAwB,MAAxD,mBAAOoB,EAAP,KAAczB,EAAd,KAEA,SAAS0B,EAAaC,GAEpB,OADAL,EAAcK,EAAEC,OAAOC,OACnBF,EAAEC,OAAOC,MAAMC,QAAU,EC1BT,SAACC,GAAsC,IACzDC,EAD8BC,EAA0B,uDAAR,IAEpD,OAAO,WAAqB,IAAD,uBAAhBC,EAAgB,yBAAhBA,EAAgB,gBACzBC,aAAaH,GACbA,EAAQI,YAAW,WACjBL,EAAKM,MAAM,EAAMH,KAChBD,IDqBMK,CAASC,IAAgB,KACJ,KAAnBZ,EAAEC,OAAOC,MACXL,EAAW,SADb,EAUT,SAASe,IACP,IAAMC,EAAqBC,mBAAmBpB,GAC9CJ,EAAQuB,GACLE,MAAK,SAACC,GAAD,OAA8BA,EAAKC,UACxCF,MAAK,SAACG,GACL,OAAOrB,EAAWqB,MAEnBC,OAAM,SAACC,GACN3B,EAAiB,CAAE4B,OAAQ,QAASC,MAAOF,EAAIG,aAIrD,IAAQF,EAAkB7B,EAAlB6B,OAAQC,EAAU9B,EAAV8B,MAChB,GAAe,UAAXD,EACF,MAAM,IAAIrD,MAAJ,uCAA0CsD,IAGlD,OACE,eAAC,EAAD,WACE,uBAAO,aAAW,mBAAlB,8BACA,sBAAM/C,KAAK,mBAAmBiD,SAAU,kBAAMZ,KAA9C,SACE,cAACa,EAAD,CACEvB,MAAOR,EACPgC,SAAU,SAAC1B,GAAD,OAAOD,EAAaC,IAC9B2B,YAAa,iBAGjB,cAACC,EAAD,UACE,cAACC,EAAD,UACGjC,EAAQkC,KAAI,SAACC,GACZ,IAAQxD,EAASwD,EAATxD,KACR,OACE,eAACyD,EAAD,CAAqB9C,QAAS,SAACc,GAAD,OArC1C,SAAqBA,EAAqCF,GAExD,OADAE,EAAEiC,iBACK5D,EAASyB,GAmC+BoC,CAAYlC,EAAG+B,IAApD,UACGjC,EACC,cAAC3B,EAAD,CAAYC,OAAQ0B,EAAOzB,SAAUA,IACnC,KACJ,cAAC8D,EAAD,UACE,cAAC,EAAD,CAAMxE,GAAI4B,EAAM3B,KAAM,OAExB,cAACwE,EAAD,UAAe7D,kBAYzBhB,EAAUC,IAAOC,IAAV,+EAAGD,CAAH,2DAMPiE,EAAcjE,IAAO6E,MAAV,mFAAG7E,CAAH,sEAOXoE,EAAkBpE,IAAOC,IAAV,uFAAGD,CAAH,qFASfqE,EAAsBrE,IAAO8E,GAAV,2FAAG9E,CAAH,MAEnBwE,EAAsBxE,IAAOC,IAAV,2FAAGD,CAAH,2IH9GhB,wBG2HH2E,EAAa3E,IAAO+E,KAAV,kFAAG/E,CAAH,4FASV4E,EAAe5E,IAAOgF,GAAV,oFAAGhF,CAAH,sBEvILiF,EAAa,SAAC/C,GACzB,IAAMmB,EAAqBC,mBAAmBpB,GAI9C,OAHgBgD,MAAM,yDAAD,OACsC7B,K,QCIvD8B,EAA6D,SAAC,GAG7D,IAFLrB,EAEI,EAFJA,MACAsB,EACI,EADJA,mBAEA,OACE,sBAAKC,KAAK,QAAV,UACE,sDACA,8BAAMvB,EAAMC,UACZ,wBAAQrC,QAAS0D,EAAjB,2BA2BSE,MAtBf,WACE,MAA0CrE,IAAMC,SAAS,CACvD2C,OAAQ,GACRC,MAAO,KAFT,mBAAO9B,EAAP,KAAsBC,EAAtB,KAIA,OACE,cAAC,EAAD,UACE,cAAC,gBAAD,CACEsD,kBAAmBJ,EACnBK,QAAS,kBAAMvD,EAAiB,CAAE4B,OAAQ,GAAIC,MAAO,MAFvD,SAIE,cAAC,EAAD,CACEhC,QAASmD,EACTlD,KAAM,UACNC,cAAeA,EACfC,iBAAkBA,SAStBlC,EAAUC,IAAOC,IAAV,mEAAGD,CAAH,4FC9BEyF,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBpC,MAAK,YAAkD,IAA/CqC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.df9d03a2.chunk.js","sourcesContent":["export const COLORS = {\n  white: \"hsl(0deg, 0%, 100%)\",\n  gray: {\n    100: \"hsl(185deg, 5%, 95%)\",\n    300: \"hsl(190deg, 5%, 80%)\",\n    500: \"hsl(196deg, 4%, 60%)\",\n    700: \"hsl(220deg, 5%, 40%)\",\n    900: \"hsl(220deg, 3%, 20%)\",\n  },\n  primary: \"hsl(340deg, 65%, 47%)\",\n  secondary: \"hsl(240deg, 60%, 63%)\",\n};\n\nexport const BREAKPOINTS = {\n  phoneMax: 550,\n  tabletMax: 1100,\n  laptopMax: 1500,\n};\nexport const QUERIES = {\n  phone: `(max-width: ${BREAKPOINTS.phoneMax / 16}rem)`,\n  tablet: `(max-width: ${BREAKPOINTS.tabletMax / 16}rem)`,\n  laptop: `(max-width: ${BREAKPOINTS.laptopMax / 16}rem)`,\n};\n\nexport const FONTSIZES = {\n  pageHeadXL: \"48px\",\n  postTitle: \"36px\",\n  pageHead: \"20px\",\n  base: \"16px\",\n};\n\nexport const SPACING = {};\n\nexport const WEIGHTS = {\n  normal: 500,\n  medium: 600,\n  bold: 800,\n};\n\nexport const EMOJIS = {\n  movie: \"📽️\",\n  restaurant: \"🍔\",\n  album: \"🎵\",\n  show: \"📺\",\n  book: \"📖\",\n  event: \"\",\n  shop: \"🏬\",\n  experience: \"🛶\",\n  performance: \"🎸\",\n  play: \"🎭\",\n  pizza: \"🍕\",\n  bagel: \"🥯\",\n  art: \"🎨\",\n  judo: \"🥋\",\n};\n\nexport const RATINGS = {\n  hate: \"🔥💩🔥\",\n  0: \"💩\",\n  1: \"⭐\",\n  2: \"⭐⭐\",\n  3: \"⭐⭐⭐\",\n  4: \"⭐⭐⭐⭐\",\n  5: \"🌟🌟🌟🌟🌟\",\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Compass } from \"react-feather\";\n\nconst icons = {\n  compass: Compass,\n};\n\nconst Icon = ({ id, size, strokeWidth = 1, ...delegated }) => {\n  const Component = icons[id];\n\n  if (!Component) {\n    throw new Error(`No icon found for ID: ${id}`);\n  }\n\n  return (\n    <Wrapper\n      style={{\n        \"--size\": size + \"px\",\n        \"--stroke-width\": strokeWidth + \"px\",\n      }}\n      {...delegated}\n    >\n      <Component color=\"currentColor\" size={size} />\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  width: var(--size);\n  height: var(--size);\n\n  */ & > svg {\n    display: block;\n    stroke-width: var(--stroke-width);\n  }\n`;\n\nexport default Icon;\n","import React from \"react\";\nimport { Dialog } from \"@reach/dialog\";\nimport { RATINGS } from \"../../styles/CONSTANTS\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport \"@reach/dialog/styles.css\";\n\nexport default function DyrtResult({ result, setModal }) {\n  const { _score, name, region_name } = result;\n  const [showDialog, setShowDialog] = React.useState(false);\n\n  const close = () => {\n    setShowDialog(false);\n    return setModal(null);\n  };\n\n  React.useEffect(() => {\n    if (result) {\n      setShowDialog(true);\n    }\n  }, [result]);\n\n  return (\n    <div>\n      <div>\n        {\" \"}\n        <Dialog isOpen={showDialog} onDismiss={close}>\n          {\" \"}\n          <button className=\"close-button\" onClick={close}>\n            {\" \"}\n            <VisuallyHidden>Close</VisuallyHidden> <span aria-hidden>×</span>{\" \"}\n          </button>{\" \"}\n          <div>{RATINGS[`${Math.round(_score)}`]}</div>\n          <div>{name}</div>\n          <div>{region_name}</div>\n        </Dialog>{\" \"}\n      </div>\n    </div>\n  );\n}\n","import React, { FC } from \"react\";\nimport { debounce } from \"../../utils/debounce\";\nimport { COLORS } from \"../../styles/CONSTANTS\";\nimport Icon from \"./Icon\";\nimport styled from \"styled-components/macro\";\nimport DyrtResult from \"./DyrtResult\";\n\ninterface ResultObject {\n  name: string;\n  slug: string;\n}\n\ninterface ResultArray extends Array<ResultObject> {}\n\nconst TypeAheadSearch: FC<{\n  fetcher: Function;\n  icon: string;\n  statusCapture: any;\n  setStatusCapture: any;\n}> = ({ fetcher, icon, statusCapture, setStatusCapture }) => {\n  const [nameString, setNameString] = React.useState(\"\");\n  const [results, setResults] = React.useState<ResultArray>([]);\n  const [modal, setModal] = React.useState<object | null>(null);\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>) {\n    setNameString(e.target.value);\n    if (e.target.value.length >= 3) {\n      return debounce(handleSearch(), 350);\n    } else if (e.target.value === \"\") {\n      return setResults([]);\n    }\n  }\n\n  function modalSetter(e: React.MouseEvent<HTMLDivElement>, modal: object) {\n    e.preventDefault();\n    return setModal(modal);\n  }\n\n  function handleSearch() {\n    const encodedQueryString = encodeURIComponent(nameString);\n    fetcher(encodedQueryString)\n      .then((data: { json: Function }) => data.json())\n      .then((res: ResultArray) => {\n        return setResults(res);\n      })\n      .catch((err: Error) => {\n        setStatusCapture({ status: \"error\", error: err.message });\n      });\n  }\n\n  const { status, error } = statusCapture;\n  if (status === \"error\") {\n    throw new Error(`Sorry, something went wrong: ${error}`);\n  }\n\n  return (\n    <Wrapper>\n      <label aria-label=\"camp-site-search\">Find a camp site</label>\n      <form name=\"camp-site-search\" onSubmit={() => handleSearch()}>\n        <SearchInput\n          value={nameString}\n          onChange={(e) => handleChange(e)}\n          placeholder={\"Moon river\"}\n        ></SearchInput>\n      </form>\n      <ResultsDropDown>\n        <ResultsDropDownList>\n          {results.map((datum: ResultObject) => {\n            const { name } = datum;\n            return (\n              <SingleResultWrapper onClick={(e) => modalSetter(e, datum)}>\n                {modal ? (\n                  <DyrtResult result={modal} setModal={setModal} />\n                ) : null}\n                <ResultIcon>\n                  <Icon id={icon} size={24}></Icon>\n                </ResultIcon>\n                <SingleResult>{name}</SingleResult>\n              </SingleResultWrapper>\n            );\n          })}\n        </ResultsDropDownList>\n      </ResultsDropDown>\n    </Wrapper>\n  );\n};\n\nexport default TypeAheadSearch;\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SearchInput = styled.input`\n  margin-top: 5px;\n  font-size: 1rem;\n  padding: 4px 8px;\n  border-radius: 5px;\n`;\n\nconst ResultsDropDown = styled.div`\n  height: 400px;\n  width: 600px;\n  overflow-y: auto;\n  top: 80px;\n  left: -80px;\n  position: absolute;\n`;\n\nconst ResultsDropDownList = styled.ul``;\n\nconst SingleResultWrapper = styled.div`\n  width: 400px;\n  padding: 8px;\n  border-radius: 5px;\n  font-size: 18px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background-color: ${COLORS.gray[100]};\n  }\n`;\n\nconst ResultIcon = styled.span`\n  align-items: center;\n\n  display: flex;\n  justify-content: center;\n  margin-right: 0.5rem;\n  width: 2rem;\n`;\n\nconst SingleResult = styled.li`\n  list-style: none;\n`;\n","export const debounce = (func: any, timeout: number = 300) => {\n  let timer: any;\n  return (...args: any[]) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n};\n","export const dyrtSearch = (nameString) => {\n  const encodedQueryString = encodeURIComponent(nameString);\n  const promise = fetch(\n    `https://thedyrt.com/api/v4/autocomplete/campgrounds?q=${encodedQueryString}`\n  );\n  return promise;\n};\n","import React, { FC } from \"react\";\nimport TypeAheadSearch from \"./components/TypeAhead/TypeAheadSearch\";\nimport { dyrtSearch } from \"./utils/dyrt-search\";\nimport { ErrorBoundary } from \"react-error-boundary\";\n\nimport styled from \"styled-components/macro\";\n\nconst ErrorFallback: FC<{ error: any; resetErrorBoundary: any }> = ({\n  error,\n  resetErrorBoundary,\n}) => {\n  return (\n    <div role=\"alert\">\n      <p>Something went wrong:</p>\n      <pre>{error.message}</pre>\n      <button onClick={resetErrorBoundary}>Try again</button>\n    </div>\n  );\n};\n\nfunction App() {\n  const [statusCapture, setStatusCapture] = React.useState({\n    status: \"\",\n    error: \"\",\n  });\n  return (\n    <Wrapper>\n      <ErrorBoundary\n        FallbackComponent={ErrorFallback}\n        onReset={() => setStatusCapture({ status: \"\", error: \"\" })}\n      >\n        <TypeAheadSearch\n          fetcher={dyrtSearch}\n          icon={\"compass\"}\n          statusCapture={statusCapture}\n          setStatusCapture={setStatusCapture}\n        />\n      </ErrorBoundary>\n    </Wrapper>\n  );\n}\n\nexport default App;\n\nconst Wrapper = styled.div`\n  padding-top: 200px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}